(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{37:function(e,t,a){"use strict";var n=a(38),i=a.n(n),r=a(39),s=a.n(r),c="b7b330666a733df935ff0bb74641b061";s.a.defaults.baseURL="https://api.themoviedb.org/3",t.a={getPopularMovies:function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.awrap(s.a.get("/trending/movie/day?api_key=".concat(c)));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]])},getMoviesByQuery:function(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(s.a.get("/search/movie?api_key=".concat(c,"&query=").concat(e,"&page=1")));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),new Error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])},getMovieById:function(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(s.a.get("/movie/".concat(e,"?api_key=").concat(c)));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),new Error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])},getMvoieCredits:function(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(s.a.get("movie/".concat(e,"/credits?api_key=").concat(c)));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),new Error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])},getMvoieReviews:function(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(s.a.get("movie/".concat(e,"/reviews?api_key=").concat(c)));case 3:return t=a.sent,a.abrupt("return",t.data);case 7:throw a.prev=7,a.t0=a.catch(0),new Error(a.t0);case 10:case"end":return a.stop()}}),null,null,[[0,7]])}}},69:function(e,t,a){e.exports={movieDetails__wrapper:"MovieDetailsArticle_movieDetails__wrapper__2LI_p",movieDetails__img:"MovieDetailsArticle_movieDetails__img__gskcL",movieDetails__right_wrapper:"MovieDetailsArticle_movieDetails__right_wrapper__1NFPK",movieDetails__list:"MovieDetailsArticle_movieDetails__list__20FVm","movieDetails__list-item":"MovieDetailsArticle_movieDetails__list-item__3GcsG"}},70:function(e,t,a){e.exports={movieDetails:"MovieDetails_movieDetails__VyL0D",movieDetails__button:"MovieDetails_movieDetails__button__3ao5z",movieDetails__options:"MovieDetails_movieDetails__options__mlgxW",movieDetails__items:"MovieDetails_movieDetails__items__3vJMK",movieDetails__links:"MovieDetails_movieDetails__links__1-vR7"}},71:function(e,t,a){e.exports={CastList:"Cast_CastList__3F__d",CastList__item:"Cast_CastList__item__1H_x_",CastList__img:"Cast_CastList__img__1cxsj"}},72:function(e,t,a){e.exports={ReviewsList:"Reviews_ReviewsList__aL9tK",ReviewsList__item:"Reviews_ReviewsList__item__2R_ZW"}},87:function(e,t,a){"use strict";a.r(t);var n=a(13),i=a(14),r=a(16),s=a(15),c=a(17),o=a(0),l=a.n(o),m=a(5),u=a(37),v=a(8),_=a(69),p=a.n(_),h=function(e){var t=e.movie;return l.a.createElement("article",{className:p.a.movieDetails__wrapper},l.a.createElement("img",{src:t.img,className:p.a.movieDetails__img,alt:""}),l.a.createElement("div",{className:p.a.movieDetails__right_wrapper},l.a.createElement("h1",null,t.title),l.a.createElement("p",null,"User Score: ",t.userScore),l.a.createElement("h2",null,"Overview"),l.a.createElement("p",null,t.overview),l.a.createElement("h2",null,"Generes"),l.a.createElement("ul",{className:p.a.movieDetails__list},t.genres.map((function(e){return l.a.createElement("li",{key:e.id,className:p.a["movieDetails__list-item"]},e.name)})))))},f=a(70),w=a.n(f),g=function(e){return e.state?{from:e.state.from}:null},D=Object(m.g)((function(e){var t=e.movie,a=e.match,n=e.history,i=e.location;return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:w.a.movieDetails},l.a.createElement("button",{type:"button",className:w.a.movieDetails__button,onClick:function(){i.state?n.push(i.state.from):n.push("/movies")}},"Go back"),l.a.createElement(h,{movie:t}),l.a.createElement("ul",{className:w.a.movieDetails__options},l.a.createElement("li",{className:w.a.movieDetails__items},l.a.createElement(v.c,{className:w.a.movieDetails__links,to:{pathname:"".concat(a.url,"/cast"),state:g(i)}},"Cast")),l.a.createElement("li",{className:w.a.movieDetails__items},l.a.createElement(v.c,{className:w.a.movieDetails__links,to:{pathname:"".concat(a.url,"/reviews"),state:g(i)}},"Reviews")))))})),E=a(71),b=a.n(E),d=function(e){return e.match.params.movieId},y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={movieCast:[]},a.getMovieCast=function(){var e=d(a.props);u.a.getMvoieCredits(e).then((function(e){return a.setState({movieCast:e.cast})}))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getMovieCast()}},{key:"render",value:function(){var e=this.state.movieCast;return console.log(e),l.a.createElement(l.a.Fragment,null,e.length>0?l.a.createElement("ul",{className:b.a.CastList},e.map((function(e){return l.a.createElement("li",{key:e.id,className:b.a.CastList__item},l.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.profile_path),alt:"",className:b.a.CastList__img}),l.a.createElement("div",null,l.a.createElement("p",null,"Name: ",e.name),l.a.createElement("p",null,"Character: ",e.character)))}))):l.a.createElement("p",null,"We dont have info about cast for this movie"))}}]),t}(o.Component),M=a(72),C=a.n(M),k=function(e){return e.match.params.movieId},L=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={movieReviews:[]},a.getReviews=function(){var e=k(a.props);u.a.getMvoieReviews(e).then((function(e){return a.setState({movieReviews:e.results})}))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getReviews()}},{key:"render",value:function(){var e=this.state.movieReviews;return l.a.createElement(l.a.Fragment,null,e.length>1?l.a.createElement("ul",{className:C.a.ReviewsList},e.map((function(e){return l.a.createElement("li",{key:e.id,className:C.a.ReviewsList__item},l.a.createElement("h4",null,"Author: ",e.author),l.a.createElement("p",null,e.content))}))):l.a.createElement("p",null,"We dont have any review for this movie"))}}]),t}(o.Component),N=function(e){return{title:e.title,userScore:"".concat(10*e.vote_average,"%"),overview:e.overview,img:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),genres:e.genres}},R=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={movie:null},a.getMovie=function(e){u.a.getMovieById(e).then((function(e){return a.setState({movie:N(e)})}))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.movieId;this.getMovie(e)}},{key:"render",value:function(){var e=this.state.movie,t=this.props.match;return l.a.createElement("div",null,e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(D,{movie:e}),l.a.createElement(m.b,{path:"".concat(t.path,"/cast"),component:y}),l.a.createElement(m.b,{path:"".concat(t.path,"/reviews"),component:L})))}}]),t}(o.Component);t.default=R}}]);
//# sourceMappingURL=movie-details-page.580944c0.chunk.js.map