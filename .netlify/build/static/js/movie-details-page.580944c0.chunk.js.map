{"version":3,"sources":["services/api.js","components/MovieDetailsArticle/MovieDetailsArticle.module.css","components/MovieDetails/MovieDetails.module.css","components/Cast/Cast.module.css","components/Reviews/Reviews.module.css","components/MovieDetailsArticle/MovieDetailsArticle.js","components/MovieDetails/MovieDetails.js","components/Cast/Cast.js","components/Reviews/Reviews.js","pages/MovieDetailsPage/MovieDetailsPage.js"],"names":["API_KEY","axios","defaults","baseURL","getPopularMovies","get","popularMovies","data","Error","getMoviesByQuery","query","moviesByQuery","getMovieById","id","movieById","getMvoieCredits","movieCredits","getMvoieReviews","module","exports","MovieDetailsArticle","movie","className","styles","movieDetails__wrapper","src","img","movieDetails__img","alt","movieDetails__right_wrapper","title","userScore","overview","movieDetails__list","genres","map","genre","key","name","locationReturn","location","state","from","withRouter","match","history","movieDetails","type","movieDetails__button","onClick","push","movieDetails__options","movieDetails__items","movieDetails__links","to","pathname","url","getIdFromProps","props","params","movieId","Cast","movieCast","getMovieCast","movieAPI","then","setState","cast","this","console","log","length","CastList","CastList__item","profile_path","CastList__img","character","Component","Reviews","movieReviews","getReviews","reviews","results","ReviewsList","review","ReviewsList__item","author","content","movieObjectMapper","vote_average","poster_path","MovieDetailsPage","getMovie","moviesAPI","path","component"],"mappings":"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","file":"static/js/movie-details-page.580944c0.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'b7b330666a733df935ff0bb74641b061';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport default {\n  async getPopularMovies() {\n    try {\n      const popularMovies = await axios.get(\n        `/trending/movie/day?api_key=${API_KEY}`,\n      );\n      return popularMovies.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  async getMoviesByQuery(query) {\n    try {\n      const moviesByQuery = await axios.get(\n        `/search/movie?api_key=${API_KEY}&query=${query}&page=1`,\n      );\n\n      return moviesByQuery.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  async getMovieById(id) {\n    try {\n      const movieById = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n\n      return movieById.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  async getMvoieCredits(id) {\n    try {\n      const movieCredits = await axios.get(\n        `movie/${id}/credits?api_key=${API_KEY}`,\n      );\n\n      return movieCredits.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  async getMvoieReviews(id) {\n    try {\n      const movieCredits = await axios.get(\n        `movie/${id}/reviews?api_key=${API_KEY}`,\n      );\n\n      return movieCredits.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieDetails__wrapper\":\"MovieDetailsArticle_movieDetails__wrapper__2LI_p\",\"movieDetails__img\":\"MovieDetailsArticle_movieDetails__img__gskcL\",\"movieDetails__right_wrapper\":\"MovieDetailsArticle_movieDetails__right_wrapper__1NFPK\",\"movieDetails__list\":\"MovieDetailsArticle_movieDetails__list__20FVm\",\"movieDetails__list-item\":\"MovieDetailsArticle_movieDetails__list-item__3GcsG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieDetails\":\"MovieDetails_movieDetails__VyL0D\",\"movieDetails__button\":\"MovieDetails_movieDetails__button__3ao5z\",\"movieDetails__options\":\"MovieDetails_movieDetails__options__mlgxW\",\"movieDetails__items\":\"MovieDetails_movieDetails__items__3vJMK\",\"movieDetails__links\":\"MovieDetails_movieDetails__links__1-vR7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CastList\":\"Cast_CastList__3F__d\",\"CastList__item\":\"Cast_CastList__item__1H_x_\",\"CastList__img\":\"Cast_CastList__img__1cxsj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ReviewsList\":\"Reviews_ReviewsList__aL9tK\",\"ReviewsList__item\":\"Reviews_ReviewsList__item__2R_ZW\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './MovieDetailsArticle.module.css';\n\nconst MovieDetailsArticle = ({ movie }) => {\n  return (\n    <article className={styles.movieDetails__wrapper}>\n      <img src={movie.img} className={styles.movieDetails__img} alt=\"\" />\n      <div className={styles.movieDetails__right_wrapper}>\n        <h1>{movie.title}</h1>\n        <p>User Score: {movie.userScore}</p>\n        <h2>Overview</h2>\n        <p>{movie.overview}</p>\n        <h2>Generes</h2>\n        <ul className={styles.movieDetails__list}>\n          {movie.genres.map(genre => (\n            <li key={genre.id} className={styles['movieDetails__list-item']}>\n              {genre.name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </article>\n  );\n};\n\nMovieDetailsArticle.propTypes = {\n  movie: PropTypes.shape({\n    img: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    userScore: PropTypes.string.isRequired,\n    overview: PropTypes.string.isRequired,\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number,\n        name: PropTypes.string,\n      }),\n    ).isRequired,\n  }).isRequired,\n};\n\nexport default MovieDetailsArticle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink, withRouter } from 'react-router-dom';\n\nimport MovieDetailsArticle from '../MovieDetailsArticle/MovieDetailsArticle';\n\nimport styles from './MovieDetails.module.css';\n\nconst locationReturn = location => {\n  if (!location.state) return null;\n\n  return { from: location.state.from };\n};\n\nconst MovieDetails = ({ movie, match, history, location }) => {\n  const handleGoBack = () => {\n    const { state } = location;\n\n    if (state) {\n      history.push(location.state.from);\n      return;\n    }\n\n    history.push('/movies');\n  };\n\n  return (\n    <>\n      <section className={styles.movieDetails}>\n        <button\n          type=\"button\"\n          className={styles.movieDetails__button}\n          onClick={handleGoBack}\n        >\n          Go back\n        </button>\n        <MovieDetailsArticle movie={movie} />\n        <ul className={styles.movieDetails__options}>\n          <li className={styles.movieDetails__items}>\n            <NavLink\n              className={styles.movieDetails__links}\n              to={{\n                pathname: `${match.url}/cast`,\n                state: locationReturn(location),\n              }}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li className={styles.movieDetails__items}>\n            <NavLink\n              className={styles.movieDetails__links}\n              to={{\n                pathname: `${match.url}/reviews`,\n                state: locationReturn(location),\n              }}\n            >\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n      </section>\n    </>\n  );\n};\n\nMovieDetails.propTypes = {\n  movie: PropTypes.shape().isRequired,\n  match: PropTypes.shape().isRequired,\n  history: PropTypes.shape().isRequired,\n  location: PropTypes.shape().isRequired,\n};\n\nexport default withRouter(MovieDetails);\n","import React, { Component } from 'react';\n\nimport styles from './Cast.module.css';\n\nimport movieAPI from '../../services/api';\n\nconst getIdFromProps = props => props.match.params.movieId;\n\nexport default class Cast extends Component {\n  state = {\n    movieCast: [],\n  };\n\n  componentDidMount() {\n    this.getMovieCast();\n  }\n\n  getMovieCast = () => {\n    const id = getIdFromProps(this.props);\n\n    movieAPI\n      .getMvoieCredits(id)\n      .then(data => this.setState({ movieCast: data.cast }));\n  };\n\n  render() {\n    const { movieCast } = this.state;\n    console.log(movieCast);\n    return (\n      <>\n        {movieCast.length > 0 ? (\n          <ul className={styles.CastList}>\n            {movieCast.map(cast => (\n              <li key={cast.id} className={styles.CastList__item}>\n                <img\n                  src={`https://image.tmdb.org/t/p/w500/${cast.profile_path}`}\n                  alt=\"\"\n                  className={styles.CastList__img}\n                />\n                <div>\n                  <p>Name: {cast.name}</p>\n                  <p>Character: {cast.character}</p>\n                </div>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>We dont have info about cast for this movie</p>\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport movieAPI from '../../services/api';\n\nimport styles from './Reviews.module.css';\n\nconst getIdFromProps = props => props.match.params.movieId;\n\nexport default class Reviews extends Component {\n  state = {\n    movieReviews: [],\n  };\n\n  componentDidMount() {\n    this.getReviews();\n  }\n\n  getReviews = () => {\n    const id = getIdFromProps(this.props);\n\n    movieAPI\n      .getMvoieReviews(id)\n      .then(reviews => this.setState({ movieReviews: reviews.results }));\n  };\n\n  render() {\n    const { movieReviews } = this.state;\n\n    return (\n      <>\n        {movieReviews.length > 1 ? (\n          <ul className={styles.ReviewsList}>\n            {movieReviews.map(review => (\n              <li key={review.id} className={styles.ReviewsList__item}>\n                <h4>Author: {review.author}</h4>\n                <p>{review.content}</p>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>We dont have any review for this movie</p>\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route } from 'react-router-dom';\n\nimport moviesAPI from '../../services/api';\n\nimport MovieDetails from '../../components/MovieDetails/MovieDetails';\n\nimport Cast from '../../components/Cast/Cast';\nimport Reviews from '../../components/Reviews/Reviews';\n\nconst getIdFromProps = props => props.match.params.movieId;\n\nconst movieObjectMapper = movie => {\n  return {\n    title: movie.title,\n    userScore: `${movie.vote_average * 10}%`,\n    overview: movie.overview,\n    img: `https://image.tmdb.org/t/p/w500/${movie.poster_path}`,\n    genres: movie.genres,\n  };\n};\n\nclass MovieDetailsPage extends Component {\n  static propTypes = {\n    match: PropTypes.shape().isRequired,\n  };\n\n  state = {\n    movie: null,\n  };\n\n  componentDidMount() {\n    const id = getIdFromProps(this.props);\n\n    this.getMovie(id);\n  }\n\n  getMovie = id => {\n    moviesAPI\n      .getMovieById(id)\n      .then(data => this.setState({ movie: movieObjectMapper(data) }));\n  };\n\n  render() {\n    const { movie } = this.state;\n    const { match } = this.props;\n\n    return (\n      <div>\n        {movie && (\n          <>\n            <MovieDetails movie={movie} />\n            <Route path={`${match.path}/cast`} component={Cast} />\n            <Route path={`${match.path}/reviews`} component={Reviews} />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}